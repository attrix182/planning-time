<section class="participation-section" *ngIf="!loading">
  <section class="actions-box card" *ngIf="!loading && event.active">
    <button pButton pRipple class="p-button-raised p-button-primary" (click)="showResults ? hideResults(): presentResults()">
      {{ showResults ? 'Ocultar resultados' : 'Mostrar resultados' }}
    </button>

    <button pButton pRipple class="p-button-raised p-button-primary" (click)="restart()">Reiniciar</button>
  </section>

  <div class="card-center" *ngIf="!loading && event.active">
    <div class="title text-dark p-4">Â¡Elije una carta!</div>
    <section *ngIf="showResults" class="text-center">
      <div *ngFor="let res of results">{{ res.user }} voto: {{ res.vote }}</div>
      <div class="promedio" *ngIf="promedio">Promedio: {{ promedio.toFixed(2) }}</div>
    </section>
  </div>

  <section class="options-box card" *ngIf="!loading && event.active">
    <div
      *ngFor="let opt of options"
      class="card"
      [ngClass]="optionSelected == opt ? 'active' : ''"
      (click)="selectOption(opt)"
    >
      {{ opt }}
    </div>
  </section>

  <div *ngIf="!loading && !event.active">
    <div class="card">
      <div class="title">Equipo: {{ event.team }}</div>
      <div class="subtitle">Evento: {{ event.eventTitle }}</div>
      <h1>Esta sesion ya no esta activa</h1>
      <button pButton class="mt-4 mb-2 p-button-raised p-button-primmary" routerLink="/">Volver al Home</button>
    </div>
  </div>
</section>

<p-toast position="top-center" class="p-toast"></p-toast>
